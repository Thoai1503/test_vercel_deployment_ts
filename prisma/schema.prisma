generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model EFMigrationsHistory {
  MigrationId    String @id(map: "PK___EFMigrationsHistory") @db.NVarChar(150)
  ProductVersion String @db.NVarChar(32)

  @@map("__EFMigrationsHistory")
}

model BoardGames {
  Id                   Int                    @id(map: "PK_BoardGames") @default(autoincrement())
  Name                 String                 @db.NVarChar(200)
  Year                 Int
  MinPlayers           Int
  MaxPlayers           Int
  PlayTime             Int
  MinAge               Int
  UsersRated           Int
  RatingAverage        Decimal                @db.Decimal(4, 2)
  BGGRank              Int
  ComplexityAverage    Decimal                @db.Decimal(4, 2)
  OwnedUsers           Int
  CreatedDate          DateTime
  LastModifiedDate     DateTime
  BoardGames_Domains   BoardGames_Domains[]
  BoardGames_Mechanics BoardGames_Mechanics[]
}

model BoardGames_Domains {
  BoardGameId Int
  DomainId    Int
  CreatedDate DateTime
  BoardGames  BoardGames @relation(fields: [BoardGameId], references: [Id], onDelete: Cascade, onUpdate: NoAction, map: "FK_BoardGames_Domains_BoardGames_BoardGameId")
  Domains     Domains    @relation(fields: [DomainId], references: [Id], onDelete: Cascade, onUpdate: NoAction, map: "FK_BoardGames_Domains_Domains_DomainId")

  @@id([BoardGameId, DomainId], map: "PK_BoardGames_Domains")
  @@index([DomainId], map: "IX_BoardGames_Domains_DomainId")
}

model BoardGames_Mechanics {
  BoardGameId Int
  MechanicId  Int
  CreatedDate DateTime
  BoardGames  BoardGames @relation(fields: [BoardGameId], references: [Id], onDelete: Cascade, onUpdate: NoAction, map: "FK_BoardGames_Mechanics_BoardGames_BoardGameId")
  Mechanics   Mechanics  @relation(fields: [MechanicId], references: [Id], onDelete: Cascade, onUpdate: NoAction, map: "FK_BoardGames_Mechanics_Mechanics_MechanicId")

  @@id([BoardGameId, MechanicId], map: "PK_BoardGames_Mechanics")
  @@index([MechanicId], map: "IX_BoardGames_Mechanics_MechanicId")
}

model Domains {
  Id                 Int                  @id(map: "PK_Domains") @default(autoincrement())
  Name               String               @db.NVarChar(200)
  CreatedDate        DateTime
  LastModifiedDate   DateTime
  BoardGames_Domains BoardGames_Domains[]
}

model Mechanics {
  Id                   Int                    @id(map: "PK_Mechanics") @default(autoincrement())
  Name                 String                 @db.NVarChar(200)
  CreatedDate          DateTime
  LastModifiedDate     DateTime
  BoardGames_Mechanics BoardGames_Mechanics[]
}

model sysdiagrams {
  name         String @db.NVarChar(128)
  principal_id Int
  diagram_id   Int    @id(map: "PK__sysdiagr__C2B05B619BFE5CAB") @default(autoincrement())
  version      Int?
  definition   Bytes?

  @@unique([principal_id, name], map: "UK_principal_name")
}
